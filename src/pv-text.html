<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/marked-element/marked-element.html">

<dom-module id="pv-text">
    <style>
        code {
            background-color: red;
            border-radius: 4px;
            padding: 2px 5px;
            color: #c7254e;
            background-color: #f9f2f4;
        }
.container {
            margin: 20px;
            height: 100%;
        }
        .markdown-html>p {
            margin: 0;
        }
        .bullet {
            margin-right: 0.5em;
            font-size: 1.6em;
            color: #555;
            border-radius: 50%;
        }
    </style>
    <template>

        <div class="container layout horizontal" hidden$="[[hide]]">
            <span class="bullet" id="bullet">[[data.content.bullet]]</span>

            <marked-element id="markdown_element" markdown="[[data.content.content]]">
                <div class="markdown-html flex"></div>
            </marked-element>
        </div>


    </template>
    <script>
        Polymer({
            is: 'pv-text',
            properties: {
                data: {
                    type: Object,
                    value: {}
                    //,
                    //observer: '_dataChanged'
                },

            },
            _dataChanged: function (_new, _old) {
                if (_new) {
                    if (this.data.type == 'text') {
                        this.hide = false;
                        //console.log("image active changed.");
                        //this.$.bullet.content = this.data.content.bullet;
                        //this.$.markdown_element.markdown = this.data.content.content;
                    } else {
                        this.hide = true;
                    }
                } else {
                    this.hide = true;
                }
            }
        });
    </script>
</dom-module>